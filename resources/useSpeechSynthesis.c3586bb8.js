import{h as o,p as c}from"./hooks.module.f2da523f.js";class r{#e;#s;#t;#h;constructor(){this.#e={},this.#s=[],this.#t=!1,this.#h=()=>{speechSynthesis.getVoices().forEach(s=>{const{lang:e}=s;e.length===5&&(this.#e[e]?this.#e[e]+=1:this.#e[e]=1),this.#t=!0,this.#s.forEach(t=>{t(this.#e)}),speechSynthesis.removeEventListener("voiceschanged",this.#h)})},speechSynthesis.addEventListener("voiceschanged",this.#h)}speak(s,e,t){const h=new SpeechSynthesisUtterance(s);h.voice=this.#e[e]?t<=this.#e[e]?speechSynthesis.getVoices().filter(i=>i.lang===e)[t-1]:speechSynthesis.getVoices().filter(i=>i.lang===e)[0]:speechSynthesis.getVoices()[0],console.log(t),console.log(h),speechSynthesis.speak(h)}getVoices(){return structuredClone(this.#e)}whenReady(s){this.#t?s(this.#e):this.#s.push(s)}}const p=new r;function y(){const[n,s]=o({});return c(()=>{p.whenReady(e=>{s(e)})},[]),n}export{p as t,y as u};

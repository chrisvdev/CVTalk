import{h as H,p as ne,T as he,F as pe}from"./hooks.module.e6e2c3cf.js";import{l as re}from"./preact.module.995ee422.js";function me(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Y={exports:{}},G={exports:{}};(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;function s(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(c){return typeof c}:s=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},s(u)}function v(u){var f=typeof u=="string"||u instanceof String;if(!f){var c=s(u);throw u===null?c="null":c==="object"&&(c=u.constructor.name),new TypeError("Expected a string but received a ".concat(c))}}l.exports=e.default,l.exports.default=e.default})(G,G.exports);var ee=G.exports,W={exports:{}},X={exports:{}};(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;function s(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;for(var f in u)typeof v[f]>"u"&&(v[f]=u[f]);return v}l.exports=e.default,l.exports.default=e.default})(X,X.exports);var se=X.exports;(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var s=u(ee),v=u(se);function u(t){return t&&t.__esModule?t:{default:t}}var f={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function c(t,_){(0,s.default)(t),_=(0,v.default)(_,f),_.allow_trailing_dot&&t[t.length-1]==="."&&(t=t.substring(0,t.length-1)),_.allow_wildcard===!0&&t.indexOf("*.")===0&&(t=t.substring(2));var y=t.split("."),a=y[y.length-1];return _.require_tld&&(y.length<2||!_.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a)||/\s/.test(a))||!_.allow_numeric_tld&&/^\d+$/.test(a)?!1:y.every(function(i){return!(i.length>63&&!_.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(i)||/[\uff01-\uff5e]/.test(i)||/^-|-$/.test(i)||!_.allow_underscores&&/_/.test(i))})}l.exports=e.default,l.exports.default=e.default})(W,W.exports);var ve=W.exports,J={exports:{}};(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var s=v(ee);function v(a){return a&&a.__esModule?a:{default:a}}var u="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",f="(".concat(u,"[.]){3}").concat(u),c=new RegExp("^".concat(f,"$")),t="(?:[0-9a-fA-F]{1,4})",_=new RegExp("^("+"(?:".concat(t,":){7}(?:").concat(t,"|:)|")+"(?:".concat(t,":){6}(?:").concat(f,"|:").concat(t,"|:)|")+"(?:".concat(t,":){5}(?::").concat(f,"|(:").concat(t,"){1,2}|:)|")+"(?:".concat(t,":){4}(?:(:").concat(t,"){0,1}:").concat(f,"|(:").concat(t,"){1,3}|:)|")+"(?:".concat(t,":){3}(?:(:").concat(t,"){0,2}:").concat(f,"|(:").concat(t,"){1,4}|:)|")+"(?:".concat(t,":){2}(?:(:").concat(t,"){0,3}:").concat(f,"|(:").concat(t,"){1,5}|:)|")+"(?:".concat(t,":){1}(?:(:").concat(t,"){0,4}:").concat(f,"|(:").concat(t,"){1,6}|:)|")+"(?::((?::".concat(t,"){0,5}:").concat(f,"|(?::").concat(t,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function y(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,s.default)(a),i=String(i),i?i==="4"?c.test(a):i==="6"?_.test(a):!1:y(a,4)||y(a,6)}l.exports=e.default,l.exports.default=e.default})(J,J.exports);var _e=J.exports;(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=j;var s=c(ee),v=c(ve),u=c(_e),f=c(se);function c(n){return n&&n.__esModule?n:{default:n}}function t(n,o){return g(n)||i(n,o)||y(n,o)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(n,o){if(n){if(typeof n=="string")return a(n,o);var p=Object.prototype.toString.call(n).slice(8,-1);if(p==="Object"&&n.constructor&&(p=n.constructor.name),p==="Map"||p==="Set")return Array.from(n);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return a(n,o)}}function a(n,o){(o==null||o>n.length)&&(o=n.length);for(var p=0,b=new Array(o);p<o;p++)b[p]=n[p];return b}function i(n,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var p=[],b=!0,S=!1,D=void 0;try{for(var $=n[Symbol.iterator](),w;!(b=(w=$.next()).done)&&(p.push(w.value),!(o&&p.length===o));b=!0);}catch(m){S=!0,D=m}finally{try{!b&&$.return!=null&&$.return()}finally{if(S)throw D}}return p}}function g(n){if(Array.isArray(n))return n}var E={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},h=/^\[([^\]]+)\](?::([0-9]+))?$/;function d(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function k(n,o){for(var p=0;p<o.length;p++){var b=o[p];if(n===b||d(b)&&b.test(n))return!0}return!1}function j(n,o){if((0,s.default)(n),!n||/[\s<>]/.test(n)||n.indexOf("mailto:")===0||(o=(0,f.default)(o,E),o.validate_length&&n.length>=2083)||!o.allow_fragments&&n.includes("#")||!o.allow_query_components&&(n.includes("?")||n.includes("&")))return!1;var p,b,S,D,$,w,m,U;if(m=n.split("#"),n=m.shift(),m=n.split("?"),n=m.shift(),m=n.split("://"),m.length>1){if(p=m.shift().toLowerCase(),o.require_valid_protocol&&o.protocols.indexOf(p)===-1)return!1}else{if(o.require_protocol)return!1;if(n.slice(0,2)==="//"){if(!o.allow_protocol_relative_urls)return!1;m[0]=n.slice(2)}}if(n=m.join("://"),n==="")return!1;if(m=n.split("/"),n=m.shift(),n===""&&!o.require_host)return!0;if(m=n.split("@"),m.length>1){if(o.disallow_auth||m[0]===""||(b=m.shift(),b.indexOf(":")>=0&&b.split(":").length>2))return!1;var ue=b.split(":"),te=t(ue,2),fe=te[0],de=te[1];if(fe===""&&de==="")return!1}D=m.join("@"),w=null,U=null;var Z=D.match(h);if(Z?(S="",U=Z[1],w=Z[2]||null):(m=D.split(":"),S=m.shift(),m.length&&(w=m.join(":"))),w!==null&&w.length>0){if($=parseInt(w,10),!/^[0-9]+$/.test(w)||$<=0||$>65535)return!1}else if(o.require_port)return!1;return o.host_whitelist?k(S,o.host_whitelist):S===""&&!o.require_host?!0:!(!(0,u.default)(S)&&!(0,v.default)(S,o)&&(!U||!(0,u.default)(U,6))||(S=S||U,o.host_blacklist&&k(S,o.host_blacklist)))}l.exports=e.default,l.exports.default=e.default})(Y,Y.exports);var ge=Y.exports;const ye=me(ge);let be=class{#e;#t;#r;#n;constructor(){this.#e={},this.#t=[],this.#r=!1,this.#n=()=>{speechSynthesis.getVoices().forEach(e=>{const{lang:s}=e;s.length===5&&(this.#e[s]?this.#e[s]+=1:this.#e[s]=1),this.#r=!0,this.#t.forEach(v=>{v(this.#e)}),speechSynthesis.removeEventListener("voiceschanged",this.#n)})},speechSynthesis.addEventListener("voiceschanged",this.#n)}speak(e,s,v){const u=new SpeechSynthesisUtterance(e);u.voice=this.#e[s]?v<=this.#e[s]?speechSynthesis.getVoices().filter(f=>f.lang===s)[v-1]:speechSynthesis.getVoices().filter(f=>f.lang===s)[0]:speechSynthesis.getVoices()[0],console.log(v),console.log(u),speechSynthesis.speak(u)}getVoices(){return structuredClone(this.#e)}whenReady(e){this.#r?e(this.#e):this.#t.push(e)}};const K=new be;function xe(){const[l,e]=H({});return ne(()=>{K.whenReady(s=>{e(s)})},[]),l}const Se=[{title:"Oh My Console",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/BackEnd-Skin.css"},{title:"Like Python",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/BackEnd-Skin2.css"},{title:"Pythonesa's skin",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/cssnesa.css"},{title:"Snakeblack's skin",url:"https://raw.githubusercontent.com/Snakeblack/chatbox-css/main/style.css"},{title:"IvanLolivier's skin",url:"https://raw.githubusercontent.com/ivanlolivier/IvanLolivierCVTalkTheme/main/IvanLolivierCVTalkTheme.css"}],we=/^[A-Za-z0-9_]*$/,Te=/^[A-Za-z0-9_,]*$/,Ne=/^[A-Za-z0-9\s]*$/;var Ae=0;function r(l,e,s,v,u,f){var c,t,_={};for(t in e)t=="ref"?c=e[t]:_[t]=e[t];var y={type:l,props:_,key:s,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ae,__source:u,__self:f};if(typeof l=="function"&&(c=l.defaultProps))for(t in c)_[t]===void 0&&(_[t]=c[t]);return re.vnode&&re.vnode(y),y}const L="channel",I="default_avatar",T="style",q="tts",N="tts_accent",O="tts_index",ae="tts_always_on",Q="render",F="bots",M="pato_bot",V="htmli",z="char_commands",A="_valid",R="flex flex-col",P="text-sm font-medium text-gray-300 mb-1",C="mt-1 block p-2 bg-zinc-800 text-zinc-100 border border-zinc-700 rounded-lg transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",B="w-9 h-5 peer-focus:outline peer-focus:outline-2 peer-focus:outline-blue-500 rounded-full peer bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all border-gray-600 peer-checked:bg-blue-600",x={};x[L]="chrisvdev";x[I]="";x[`${I}${A}`]=!0;x[T]="";x[`${T}${A}`]=!0;x[q]=!0;x[N]="";x[O]="";x[ae]=!1;x[Q]=!0;x[F]="";x[M]=!0;x[V]=!1;x[z]="";const le=[L,F],Ie=[F],oe=[z],ie=[q,ae,Q,M,V],ce=[I,T],Ce=[N,O],Ee="https://chrisvdev.github.io/obs-chat";function ke(l){const e=new URL(Ee);return le.forEach(s=>{l[s]&&e.searchParams.append(s,l[s])}),ce.forEach(s=>{l[s]&&e.searchParams.append(s,l[s])}),ie.forEach(s=>{e.searchParams.append(s,l[s])}),oe.forEach(s=>{e.searchParams.append(s,l[s])}),Ce.forEach(s=>{e.searchParams.append(s,l[s])}),e.toString()}function Le(){const l=xe(),[e,s]=H(structuredClone(x)),[v,u]=H(!1),[f,c]=H(!0),t=he(a=>{const i=(h,d)=>{s(k=>{const j={...k};return j[d||a]=h,j})},g=()=>{s(h=>structuredClone(h))};if(le.includes(a))return h=>{const{value:d}=h.currentTarget;(Ie.includes(a)?Te.test(d):we.test(d))?i(d):g()};if(ie.includes(a))return h=>{const{checked:d}=h.currentTarget;typeof d=="boolean"?i(d):g()};if(ce.includes(a))return h=>{const{value:d}=h.currentTarget;i(d),i(d===""||ye(d),`${a}${A}`)};function E(h="",d=0){if(!h)return!0;const k=d+1<h.length;return d%2?h[d]===","?k?E(h,d+1):!0:!1:Ne.test(h[d])?!1:k?E(h,d+1):!0}return oe.includes(a)?h=>{let{value:d}=h.currentTarget;d=d.replaceAll(",","").split("").join(","),E(d)?i(d):g()}:h=>{const{value:d}=h.currentTarget;i(d)}},[]);ne(()=>{const a=()=>{s(i=>{const g={...i};return g[N]=speechSynthesis.getVoices()[0].lang,g[O]=1,g})};K.whenReady(a)},[]);const _=a=>{const i=[];for(let g=1;g<=a;g++)i.push(r("option",{children:g}));return i},y=pe(()=>e[L]?.length>3&&e[`${I}${A}`]&&e[`${T}${A}`],[e[L],e[`${I}${A}`],e[`${T}${A}`]]);return r("section",{className:"mx-auto max-w-md",children:r("form",{onSubmit:a=>{a.preventDefault(),console.log("Click"),v||navigator.clipboard.writeText(ke(e)).then(()=>{u(!0),setTimeout(()=>{u(!1)},1e3)}).catch(()=>{console.error("No se copio")})},className:"flex flex-col space-y-4 p-4 border border-gray-700 rounded-lg",children:[r("div",{className:R,children:[r("label",{className:P,children:"Channel"}),r("input",{className:C,value:e[L],type:"text",name:L,onInput:t(L)})]}),r("div",{className:R,children:[r("label",{className:P,children:"Custom CSS Style"}),r("select",{className:`${C} my-1`,onInput:a=>{const{value:i}=a.currentTarget,g={};g[T]=i,s(E=>structuredClone({...E,...g})),c(i===""?()=>!0:()=>!1)},children:[r("option",{value:"",children:"Custom..."}),Se.map(({title:a,url:i},g)=>r("option",{value:i,children:a},`skin_${g}`))]}),r("input",{className:C,value:e[T],type:"text",name:T,onInput:t(T),style:f?{}:{display:"none"},placeholder:"Paste here the skin URL..."})]}),e[`${T}${A}`]||r("p",{className:"text-red-600",children:"Is not a valid URL"}),r("div",{className:R,children:[r("label",{className:P,children:"Default Avatar"}),r("input",{className:C,value:e[I],type:"text",name:I,onInput:t(I),placeholder:"Paste here the image URL..."})]}),e[`${I}${A}`]||r("p",{className:"text-red-600",children:"Is not a valid URL"}),r("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[r("input",{checked:e[q],type:"checkbox",name:q,onInput:t(q),class:"sr-only peer"}),r("div",{class:B}),r("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"TTS"})]}),r("div",{className:R,children:[r("label",{className:P,children:"TTS Accent"}),r("select",{className:C,value:e[N],name:N,onInput:t(N),children:Object.keys(l).sort().map((a,i)=>r("option",{children:a},`voice_${i}`))})]}),r("div",{className:R,children:[r("label",{className:P,children:"Accent variant"}),r("select",{className:C,value:e[O],name:O,onInput:t(O),children:e[N]!==""&&_(l[e[N]])})]}),r("button",{className:"w-fit text-white font-medium rounded-lg text-sm px-5 py-2 bg-blue-600 transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",type:"button",onClick:a=>{a.preventDefault(),K.speak("Esto es una prueba",e[N],e[O])},children:"Test TTS"}),r("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[r("input",{type:"checkbox",name:Q,onInput:t(Q),class:"sr-only peer"}),r("div",{class:B}),r("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"Render"})]}),r("div",{className:R,children:[r("label",{className:P,children:"Bots"}),r("input",{className:C,value:e[F],type:"text",name:F,onInput:t(F)}),r("p",{className:"font-mono text-xs m-1",children:'Usernames separated by "," like "bot1,bot2,etc"'})]}),r("div",{className:R,children:[r("label",{className:P,children:"Commands prefixes"}),r("input",{className:C,value:e[z],type:"text",name:z,onInput:t(z)}),r("p",{className:"font-mono text-xs m-1",children:'Characters for the prefix of the commands separated by "," like "!,$,%"'})]}),r("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[r("input",{type:"checkbox",checked:e[M],name:M,onInput:t(M),class:"sr-only peer"}),r("div",{class:B}),r("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"PatoBot compatibility"})]}),r("p",{className:"italic text-xs text-zinc-400 hover:text-zinc-100 transition-all cursor-pointer",children:["(",r("a",{href:"https://elpatobot.com/",children:"You need to have the PatoBot configured."}),")"]}),r("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[r("input",{type:"checkbox",checked:e[V],name:V,onInput:t(V),class:"sr-only peer"}),r("div",{class:B}),r("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"HTML Injection"})]}),r("p",{className:"italic text-xs text-zinc-400",children:"(Experimental, Use on your own risk)"}),r("div",{className:"flex justify-center w-full",children:y?r("button",{className:"w-full text-white font-medium rounded-lg text-sm px-5 py-2 bg-blue-600 transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",type:"submit",children:v?"Copied to the clipboard":"Generate URL"}):r("p",{className:"m-4 px-2 py-1 text-red-400 font-medium",children:"There are some invalid parameters..."})})]})})}export{Le as default};

import{h as j,p as re,T as ue,F as fe}from"./hooks.module.e6e2c3cf.js";import{l as te}from"./preact.module.995ee422.js";function de(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Z={exports:{}},G={exports:{}};(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;function s(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(i){return typeof i}:s=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},s(c)}function p(c){var u=typeof c=="string"||c instanceof String;if(!u){var i=s(c);throw c===null?i="null":i==="object"&&(i=c.constructor.name),new TypeError("Expected a string but received a ".concat(i))}}l.exports=e.default,l.exports.default=e.default})(G,G.exports);var K=G.exports,Y={exports:{}},W={exports:{}};(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;function s(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;for(var u in c)typeof p[u]>"u"&&(p[u]=c[u]);return p}l.exports=e.default,l.exports.default=e.default})(W,W.exports);var ne=W.exports;(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var s=c(K),p=c(ne);function c(t){return t&&t.__esModule?t:{default:t}}var u={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function i(t,m){(0,s.default)(t),m=(0,p.default)(m,u),m.allow_trailing_dot&&t[t.length-1]==="."&&(t=t.substring(0,t.length-1)),m.allow_wildcard===!0&&t.indexOf("*.")===0&&(t=t.substring(2));var g=t.split("."),a=g[g.length-1];return m.require_tld&&(g.length<2||!m.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a)||/\s/.test(a))||!m.allow_numeric_tld&&/^\d+$/.test(a)?!1:g.every(function(f){return!(f.length>63&&!m.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(f)||/[\uff01-\uff5e]/.test(f)||/^-|-$/.test(f)||!m.allow_underscores&&/_/.test(f))})}l.exports=e.default,l.exports.default=e.default})(Y,Y.exports);var he=Y.exports,X={exports:{}};(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=g;var s=p(K);function p(a){return a&&a.__esModule?a:{default:a}}var c="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",u="(".concat(c,"[.]){3}").concat(c),i=new RegExp("^".concat(u,"$")),t="(?:[0-9a-fA-F]{1,4})",m=new RegExp("^("+"(?:".concat(t,":){7}(?:").concat(t,"|:)|")+"(?:".concat(t,":){6}(?:").concat(u,"|:").concat(t,"|:)|")+"(?:".concat(t,":){5}(?::").concat(u,"|(:").concat(t,"){1,2}|:)|")+"(?:".concat(t,":){4}(?:(:").concat(t,"){0,1}:").concat(u,"|(:").concat(t,"){1,3}|:)|")+"(?:".concat(t,":){3}(?:(:").concat(t,"){0,2}:").concat(u,"|(:").concat(t,"){1,4}|:)|")+"(?:".concat(t,":){2}(?:(:").concat(t,"){0,3}:").concat(u,"|(:").concat(t,"){1,5}|:)|")+"(?:".concat(t,":){1}(?:(:").concat(t,"){0,4}:").concat(u,"|(:").concat(t,"){1,6}|:)|")+"(?::((?::".concat(t,"){0,5}:").concat(u,"|(?::").concat(t,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function g(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,s.default)(a),f=String(f),f?f==="4"?i.test(a):f==="6"?m.test(a):!1:g(a,4)||g(a,6)}l.exports=e.default,l.exports.default=e.default})(X,X.exports);var pe=X.exports;(function(l,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=H;var s=i(K),p=i(he),c=i(pe),u=i(ne);function i(r){return r&&r.__esModule?r:{default:r}}function t(r,o){return _(r)||f(r,o)||g(r,o)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(r,o){if(r){if(typeof r=="string")return a(r,o);var d=Object.prototype.toString.call(r).slice(8,-1);if(d==="Object"&&r.constructor&&(d=r.constructor.name),d==="Map"||d==="Set")return Array.from(r);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return a(r,o)}}function a(r,o){(o==null||o>r.length)&&(o=r.length);for(var d=0,y=new Array(o);d<o;d++)y[d]=r[d];return y}function f(r,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var d=[],y=!0,S=!1,P=void 0;try{for(var A=r[Symbol.iterator](),w;!(y=(w=A.next()).done)&&(d.push(w.value),!(o&&d.length===o));y=!0);}catch(h){S=!0,P=h}finally{try{!y&&A.return!=null&&A.return()}finally{if(S)throw P}}return d}}function _(r){if(Array.isArray(r))return r}var N={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},M=/^\[([^\]]+)\](?::([0-9]+))?$/;function b(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function v(r,o){for(var d=0;d<o.length;d++){var y=o[d];if(r===y||b(y)&&y.test(r))return!0}return!1}function H(r,o){if((0,s.default)(r),!r||/[\s<>]/.test(r)||r.indexOf("mailto:")===0||(o=(0,u.default)(o,N),o.validate_length&&r.length>=2083)||!o.allow_fragments&&r.includes("#")||!o.allow_query_components&&(r.includes("?")||r.includes("&")))return!1;var d,y,S,P,A,w,h,D;if(h=r.split("#"),r=h.shift(),h=r.split("?"),r=h.shift(),h=r.split("://"),h.length>1){if(d=h.shift().toLowerCase(),o.require_valid_protocol&&o.protocols.indexOf(d)===-1)return!1}else{if(o.require_protocol)return!1;if(r.slice(0,2)==="//"){if(!o.allow_protocol_relative_urls)return!1;h[0]=r.slice(2)}}if(r=h.join("://"),r==="")return!1;if(h=r.split("/"),r=h.shift(),r===""&&!o.require_host)return!0;if(h=r.split("@"),h.length>1){if(o.disallow_auth||h[0]===""||(y=h.shift(),y.indexOf(":")>=0&&y.split(":").length>2))return!1;var oe=y.split(":"),ee=t(oe,2),ie=ee[0],ce=ee[1];if(ie===""&&ce==="")return!1}P=h.join("@"),w=null,D=null;var Q=P.match(M);if(Q?(S="",D=Q[1],w=Q[2]||null):(h=P.split(":"),S=h.shift(),h.length&&(w=h.join(":"))),w!==null&&w.length>0){if(A=parseInt(w,10),!/^[0-9]+$/.test(w)||A<=0||A>65535)return!1}else if(o.require_port)return!1;return o.host_whitelist?v(S,o.host_whitelist):S===""&&!o.require_host?!0:!(!(0,c.default)(S)&&!(0,p.default)(S,o)&&(!D||!(0,c.default)(D,6))||(S=S||D,o.host_blacklist&&v(S,o.host_blacklist)))}l.exports=e.default,l.exports.default=e.default})(Z,Z.exports);var me=Z.exports;const ve=de(me);let _e=class{#e;#t;#r;#n;constructor(){this.#e={},this.#t=[],this.#r=!1,this.#n=()=>{speechSynthesis.getVoices().forEach(e=>{const{lang:s}=e;s.length===5&&(this.#e[s]?this.#e[s]+=1:this.#e[s]=1),this.#r=!0,this.#t.forEach(p=>{p(this.#e)}),speechSynthesis.removeEventListener("voiceschanged",this.#n)})},speechSynthesis.addEventListener("voiceschanged",this.#n)}speak(e,s,p){const c=new SpeechSynthesisUtterance(e);c.voice=this.#e[s]?p<=this.#e[s]?speechSynthesis.getVoices().filter(u=>u.lang===s)[p-1]:speechSynthesis.getVoices().filter(u=>u.lang===s)[0]:speechSynthesis.getVoices()[0],console.log(p),console.log(c),speechSynthesis.speak(c)}getVoices(){return structuredClone(this.#e)}whenReady(e){this.#r?e(this.#e):this.#t.push(e)}};const J=new _e;function ge(){const[l,e]=j({});return re(()=>{J.whenReady(s=>{e(s)})},[]),l}const ye=[{title:"Oh My Console",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/BackEnd-Skin.css"},{title:"Like Python",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/BackEnd-Skin2.css"},{title:"Pythonesa's skin",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/cssnesa.css"},{title:"Snakeblack's skin",url:"https://raw.githubusercontent.com/Snakeblack/chatbox-css/main/style.css"},{title:"IvanLolivier's skin",url:"https://raw.githubusercontent.com/ivanlolivier/IvanLolivierCVTalkTheme/main/IvanLolivierCVTalkTheme.css"}];var be=0;function n(l,e,s,p,c,u){var i,t,m={};for(t in e)t=="ref"?i=e[t]:m[t]=e[t];var g={type:l,props:m,key:s,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--be,__source:c,__self:u};if(typeof l=="function"&&(i=l.defaultProps))for(t in i)m[t]===void 0&&(m[t]=i[t]);return te.vnode&&te.vnode(g),g}const R="channel",E="default_avatar",T="style",U="tts",I="tts_accent",C="tts_index",B="render",F="bots",q="pato_bot",V="htmli",k="_valid",L="flex flex-col",O="text-sm font-medium text-gray-300 mb-1",$="mt-1 block p-2 bg-zinc-800 text-zinc-100 border border-zinc-700 rounded-lg transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",z="w-9 h-5 peer-focus:outline peer-focus:outline-2 peer-focus:outline-blue-500 rounded-full peer bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all border-gray-600 peer-checked:bg-blue-600",x={};x[R]="chrisvdev";x[E]="";x[`${E}${k}`]=!0;x[T]="";x[`${T}${k}`]=!0;x[U]=!0;x[I]="";x[C]="";x[B]=!0;x[F]="";x[q]=!0;x[V]=!1;const se=[R,F],xe=[F],ae=[U,B,q,V],le=[E,T],Se=[I,C],we="https://obs-chat.christianvillegas.com/";function Te(l){const e=new URL(we);return se.forEach(s=>{l[s]&&e.searchParams.append(s,l[s])}),le.forEach(s=>{l[s]&&e.searchParams.append(s,l[s])}),ae.forEach(s=>{e.searchParams.append(s,l[s])}),Se.forEach(s=>{e.searchParams.append(s,l[s])}),e.toString()}function Ee(){const l=ge(),[e,s]=j(structuredClone(x)),[p,c]=j(!1),[u,i]=j(!0),t=ue(a=>{const f=/^[A-Za-z0-9_]*$/,_=/^[A-Za-z0-9_,]*$/,N=(b,v)=>{s(H=>{const r={...H};return r[v||a]=b,r})},M=()=>{s(b=>structuredClone(b))};return se.includes(a)?b=>{const{value:v}=b.currentTarget;(xe.includes(a)?_.test(v):f.test(v))?N(v):M()}:ae.includes(a)?b=>{const{checked:v}=b.currentTarget;typeof v=="boolean"?N(v):M()}:le.includes(a)?b=>{const{value:v}=b.currentTarget;N(v),N(v===""||ve(v),`${a}${k}`)}:b=>{const{value:v}=b.currentTarget;N(v)}},[]);re(()=>{const a=()=>{s(f=>{const _={...f};return _[I]=speechSynthesis.getVoices()[0].lang,_[C]=1,_})};J.whenReady(a)},[]);const m=a=>{const f=[];for(let _=1;_<=a;_++)f.push(n("option",{children:_}));return f},g=fe(()=>e[R]?.length>3&&e[`${E}${k}`]&&e[`${T}${k}`],[e[R],e[`${E}${k}`],e[`${T}${k}`]]);return n("section",{className:"mx-auto max-w-md",children:n("form",{onSubmit:a=>{a.preventDefault(),console.log("Click"),p||navigator.clipboard.writeText(Te(e)).then(()=>{c(!0),setTimeout(()=>{c(!1)},1e3)}).catch(()=>{console.error("No se copio")})},className:"flex flex-col space-y-4 p-4 border border-gray-700 rounded-lg",children:[n("div",{className:L,children:[n("label",{className:O,children:"Channel"}),n("input",{className:$,value:e[R],type:"text",name:R,onInput:t(R)})]}),n("div",{className:L,children:[n("label",{className:O,children:"Custom CSS Style"}),n("select",{className:`${$} my-1`,onInput:a=>{const{value:f}=a.currentTarget,_={};_[T]=f,s(N=>structuredClone({...N,..._})),i(f===""?()=>!0:()=>!1)},children:[n("option",{value:"",children:"Custom..."}),ye.map(({title:a,url:f},_)=>n("option",{value:f,children:a},`skin_${_}`))]}),n("input",{className:$,value:e[T],type:"text",name:T,onInput:t(T),style:u?{}:{display:"none"},placeholder:"Paste here the skin URL..."})]}),e[`${T}${k}`]||n("p",{className:"text-red-600",children:"Is not a valid URL"}),n("div",{className:L,children:[n("label",{className:O,children:"Default Avatar"}),n("input",{className:$,value:e[E],type:"text",name:E,onInput:t(E)})]}),e[`${E}${k}`]||n("p",{className:"text-red-600",children:"Is not a valid URL"}),n("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[n("input",{checked:e[U],type:"checkbox",name:U,onInput:t(U),class:"sr-only peer"}),n("div",{class:z}),n("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"TTS"})]}),n("div",{className:L,children:[n("label",{className:O,children:"TTS Accent"}),n("select",{className:$,value:e[I],name:I,onInput:t(I),children:Object.keys(l).sort().map((a,f)=>n("option",{children:a},`voice_${f}`))})]}),n("div",{className:L,children:[n("label",{className:O,children:"Accent variant"}),n("select",{className:$,value:e[C],name:C,onInput:t(C),children:e[I]!==""&&m(l[e[I]])})]}),n("button",{className:"w-fit text-white font-medium rounded-lg text-sm px-5 py-2 bg-blue-600 transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",type:"button",onClick:a=>{a.preventDefault(),J.speak("Esto es una prueba",e[I],e[C])},children:"Test TTS"}),n("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[n("input",{type:"checkbox",name:B,onInput:t(B),class:"sr-only peer"}),n("div",{class:z}),n("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"Render"})]}),n("div",{className:L,children:[n("label",{className:O,children:"Bots"}),n("input",{className:$,value:e[F],type:"text",name:F,onInput:t(F)}),n("p",{className:"font-mono text-xs m-1",children:'Usernames separated by "," like "bot1,bot2,etc"'})]}),n("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[n("input",{type:"checkbox",checked:e[q],name:q,onInput:t(q),class:"sr-only peer"}),n("div",{class:z}),n("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"PatoBot compatibility"})]}),n("p",{className:"italic text-xs text-zinc-400 hover:text-zinc-100 transition-all cursor-pointer",children:["(",n("a",{href:"https://elpatobot.com/",children:"You need to have the PatoBot configured."}),")"]}),n("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[n("input",{type:"checkbox",checked:e[V],name:V,onInput:t(V),class:"sr-only peer"}),n("div",{class:z}),n("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"HTML Injection"})]}),n("p",{className:"italic text-xs text-zinc-400",children:"(Experimental, Use on your own risk)"}),n("div",{className:"flex justify-center w-full",children:g?n("button",{className:"w-full text-white font-medium rounded-lg text-sm px-5 py-2 bg-blue-600 transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",type:"submit",children:p?"Copied to the clipboard":"Generate URL"}):n("p",{className:"m-4 px-2 py-1 text-red-400 font-medium",children:"There are some invalid parameters..."})})]})})}export{Ee as default};

import{h as H,p as re,T as de,F as he}from"./hooks.module.e6e2c3cf.js";import{o as t}from"./jsxRuntime.module.7a8d7ad7.js";import"./preact.module.995ee422.js";function pe(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Y={exports:{}},G={exports:{}};(function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;function s(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(d){return typeof d}:s=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(u)}function v(u){var f=typeof u=="string"||u instanceof String;if(!f){var d=s(u);throw u===null?d="null":d==="object"&&(d=u.constructor.name),new TypeError("Expected a string but received a ".concat(d))}}o.exports=e.default,o.exports.default=e.default})(G,G.exports);var ee=G.exports,W={exports:{}},X={exports:{}};(function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;function s(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;for(var f in u)typeof v[f]>"u"&&(v[f]=u[f]);return v}o.exports=e.default,o.exports.default=e.default})(X,X.exports);var ne=X.exports;(function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var s=u(ee),v=u(ne);function u(n){return n&&n.__esModule?n:{default:n}}var f={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function d(n,_){(0,s.default)(n),_=(0,v.default)(_,f),_.allow_trailing_dot&&n[n.length-1]==="."&&(n=n.substring(0,n.length-1)),_.allow_wildcard===!0&&n.indexOf("*.")===0&&(n=n.substring(2));var x=n.split("."),a=x[x.length-1];return _.require_tld&&(x.length<2||!_.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a)||/\s/.test(a))||!_.allow_numeric_tld&&/^\d+$/.test(a)?!1:x.every(function(i){return!(i.length>63&&!_.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(i)||/[\uff01-\uff5e]/.test(i)||/^-|-$/.test(i)||!_.allow_underscores&&/_/.test(i))})}o.exports=e.default,o.exports.default=e.default})(W,W.exports);var me=W.exports,J={exports:{}};(function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=x;var s=v(ee);function v(a){return a&&a.__esModule?a:{default:a}}var u="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",f="(".concat(u,"[.]){3}").concat(u),d=new RegExp("^".concat(f,"$")),n="(?:[0-9a-fA-F]{1,4})",_=new RegExp("^("+"(?:".concat(n,":){7}(?:").concat(n,"|:)|")+"(?:".concat(n,":){6}(?:").concat(f,"|:").concat(n,"|:)|")+"(?:".concat(n,":){5}(?::").concat(f,"|(:").concat(n,"){1,2}|:)|")+"(?:".concat(n,":){4}(?:(:").concat(n,"){0,1}:").concat(f,"|(:").concat(n,"){1,3}|:)|")+"(?:".concat(n,":){3}(?:(:").concat(n,"){0,2}:").concat(f,"|(:").concat(n,"){1,4}|:)|")+"(?:".concat(n,":){2}(?:(:").concat(n,"){0,3}:").concat(f,"|(:").concat(n,"){1,5}|:)|")+"(?:".concat(n,":){1}(?:(:").concat(n,"){0,4}:").concat(f,"|(:").concat(n,"){1,6}|:)|")+"(?::((?::".concat(n,"){0,5}:").concat(f,"|(?::").concat(n,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function x(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,s.default)(a),i=String(i),i?i==="4"?d.test(a):i==="6"?_.test(a):!1:x(a,4)||x(a,6)}o.exports=e.default,o.exports.default=e.default})(J,J.exports);var ve=J.exports;(function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=j;var s=d(ee),v=d(me),u=d(ve),f=d(ne);function d(r){return r&&r.__esModule?r:{default:r}}function n(r,l){return g(r)||i(r,l)||x(r,l)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(r,l){if(r){if(typeof r=="string")return a(r,l);var p=Object.prototype.toString.call(r).slice(8,-1);if(p==="Object"&&r.constructor&&(p=r.constructor.name),p==="Map"||p==="Set")return Array.from(r);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return a(r,l)}}function a(r,l){(l==null||l>r.length)&&(l=r.length);for(var p=0,y=new Array(l);p<l;p++)y[p]=r[p];return y}function i(r,l){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var p=[],y=!0,S=!1,D=void 0;try{for(var k=r[Symbol.iterator](),w;!(y=(w=k.next()).done)&&(p.push(w.value),!(l&&p.length===l));y=!0);}catch(m){S=!0,D=m}finally{try{!y&&k.return!=null&&k.return()}finally{if(S)throw D}}return p}}function g(r){if(Array.isArray(r))return r}var E={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},h=/^\[([^\]]+)\](?::([0-9]+))?$/;function c(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function $(r,l){for(var p=0;p<l.length;p++){var y=l[p];if(r===y||c(y)&&y.test(r))return!0}return!1}function j(r,l){if((0,s.default)(r),!r||/[\s<>]/.test(r)||r.indexOf("mailto:")===0||(l=(0,f.default)(l,E),l.validate_length&&r.length>=2083)||!l.allow_fragments&&r.includes("#")||!l.allow_query_components&&(r.includes("?")||r.includes("&")))return!1;var p,y,S,D,k,w,m,U;if(m=r.split("#"),r=m.shift(),m=r.split("?"),r=m.shift(),m=r.split("://"),m.length>1){if(p=m.shift().toLowerCase(),l.require_valid_protocol&&l.protocols.indexOf(p)===-1)return!1}else{if(l.require_protocol)return!1;if(r.slice(0,2)==="//"){if(!l.allow_protocol_relative_urls)return!1;m[0]=r.slice(2)}}if(r=m.join("://"),r==="")return!1;if(m=r.split("/"),r=m.shift(),r===""&&!l.require_host)return!0;if(m=r.split("@"),m.length>1){if(l.disallow_auth||m[0]===""||(y=m.shift(),y.indexOf(":")>=0&&y.split(":").length>2))return!1;var ce=y.split(":"),te=n(ce,2),ue=te[0],fe=te[1];if(ue===""&&fe==="")return!1}D=m.join("@"),w=null,U=null;var Z=D.match(h);if(Z?(S="",U=Z[1],w=Z[2]||null):(m=D.split(":"),S=m.shift(),m.length&&(w=m.join(":"))),w!==null&&w.length>0){if(k=parseInt(w,10),!/^[0-9]+$/.test(w)||k<=0||k>65535)return!1}else if(l.require_port)return!1;return l.host_whitelist?$(S,l.host_whitelist):S===""&&!l.require_host?!0:!(!(0,u.default)(S)&&!(0,v.default)(S,l)&&(!U||!(0,u.default)(U,6))||(S=S||U,l.host_blacklist&&$(S,l.host_blacklist)))}o.exports=e.default,o.exports.default=e.default})(Y,Y.exports);var ge=Y.exports;const _e=pe(ge);let ye=class{#e;#t;#r;#n;constructor(){this.#e={},this.#t=[],this.#r=!1,this.#n=()=>{speechSynthesis.getVoices().forEach(e=>{const{lang:s}=e;s.length===5&&(this.#e[s]?this.#e[s]+=1:this.#e[s]=1),this.#r=!0,this.#t.forEach(v=>{v(this.#e)}),speechSynthesis.removeEventListener("voiceschanged",this.#n)})},speechSynthesis.addEventListener("voiceschanged",this.#n)}speak(e,s,v){const u=new SpeechSynthesisUtterance(e);u.voice=this.#e[s]?v<=this.#e[s]?speechSynthesis.getVoices().filter(f=>f.lang===s)[v-1]:speechSynthesis.getVoices().filter(f=>f.lang===s)[0]:speechSynthesis.getVoices()[0],console.log(v),console.log(u),speechSynthesis.speak(u)}getVoices(){return structuredClone(this.#e)}whenReady(e){this.#r?e(this.#e):this.#t.push(e)}};const K=new ye;function be(){const[o,e]=H({});return re(()=>{K.whenReady(s=>{e(s)})},[]),o}const xe=[{title:"Oh My Console",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/BackEnd-Skin.css"},{title:"Like Python",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/BackEnd-Skin2.css"},{title:"Pythonesa's skin",url:"https://raw.githubusercontent.com/chrisvdev/CVTalk/main/public/assets/cssnesa.css"},{title:"Snakeblack's skin",url:"https://raw.githubusercontent.com/Snakeblack/chatbox-css/main/style.css"},{title:"IvanLolivier's skin",url:"https://raw.githubusercontent.com/ivanlolivier/IvanLolivierCVTalkTheme/main/IvanLolivierCVTalkTheme.css"}],Se=/^[A-Za-z0-9_]*$/,we=/^[A-Za-z0-9_,]*$/,Te=/^[A-Za-z0-9\s]*$/,L="channel",I="default_avatar",T="style",q="tts",N="tts_accent",O="tts_index",se="tts_always_on",Q="render",F="bots",M="pato_bot",V="htmli",z="char_commands",A="_valid",R="flex flex-col",P="text-sm font-medium text-gray-300 mb-1",C="mt-1 block p-2 bg-zinc-800 text-zinc-100 border border-zinc-700 rounded-lg transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",B="w-9 h-5 peer-focus:outline peer-focus:outline-2 peer-focus:outline-blue-500 rounded-full peer bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all border-gray-600 peer-checked:bg-blue-600",b={};b[L]="chrisvdev";b[I]="";b[`${I}${A}`]=!0;b[T]="";b[`${T}${A}`]=!0;b[q]=!0;b[N]="";b[O]="";b[se]=!1;b[Q]=!0;b[F]="";b[M]=!0;b[V]=!1;b[z]="";const ae=[L,F],Ne=[F],le=[z],oe=[q,se,Q,M,V],ie=[I,T],Ae=[N,O],Ie="https://chrisvdev.github.io/obs-chat";function Ce(o){const e=new URL(Ie);return ae.forEach(s=>{o[s]&&e.searchParams.append(s,o[s])}),ie.forEach(s=>{o[s]&&e.searchParams.append(s,o[s])}),oe.forEach(s=>{e.searchParams.append(s,o[s])}),le.forEach(s=>{e.searchParams.append(s,o[s])}),Ae.forEach(s=>{e.searchParams.append(s,o[s])}),e.toString()}function Pe(){const o=be(),[e,s]=H(structuredClone(b)),[v,u]=H(!1),[f,d]=H(!0),n=de(a=>{const i=(h,c)=>{s($=>{const j={...$};return j[c||a]=h,j})},g=()=>{s(h=>structuredClone(h))};if(ae.includes(a))return h=>{const{value:c}=h.currentTarget;(Ne.includes(a)?we.test(c):Se.test(c))?i(c):g()};if(oe.includes(a))return h=>{const{checked:c}=h.currentTarget;typeof c=="boolean"?i(c):g()};if(ie.includes(a))return h=>{const{value:c}=h.currentTarget;i(c),i(c===""||_e(c),`${a}${A}`)};function E(h="",c=0){if(!h)return!0;const $=c+1<h.length;return c%2?h[c]===","?$?E(h,c+1):!0:!1:Te.test(h[c])?!1:$?E(h,c+1):!0}return le.includes(a)?h=>{let{value:c}=h.currentTarget;c=c.replaceAll(",","").split("").join(","),E(c)?i(c):g()}:h=>{const{value:c}=h.currentTarget;i(c)}},[]);re(()=>{const a=()=>{s(i=>{const g={...i};return g[N]=speechSynthesis.getVoices()[0].lang,g[O]=1,g})};K.whenReady(a)},[]);const _=a=>{const i=[];for(let g=1;g<=a;g++)i.push(t("option",{children:g}));return i},x=he(()=>e[L]?.length>3&&e[`${I}${A}`]&&e[`${T}${A}`],[e[L],e[`${I}${A}`],e[`${T}${A}`]]);return t("section",{className:"mx-auto max-w-md",children:t("form",{onSubmit:a=>{a.preventDefault(),console.log("Click"),v||navigator.clipboard.writeText(Ce(e)).then(()=>{u(!0),setTimeout(()=>{u(!1)},1e3)}).catch(()=>{console.error("No se copio")})},className:"flex flex-col space-y-4 p-4 border border-gray-700 rounded-lg",children:[t("div",{className:R,children:[t("label",{className:P,children:"Channel"}),t("input",{className:C,value:e[L],type:"text",name:L,onInput:n(L)})]}),t("div",{className:R,children:[t("label",{className:P,children:"Custom CSS Style"}),t("select",{className:`${C} my-1`,onInput:a=>{const{value:i}=a.currentTarget,g={};g[T]=i,s(E=>structuredClone({...E,...g})),d(i===""?()=>!0:()=>!1)},children:[t("option",{value:"",children:"Custom..."}),xe.map(({title:a,url:i},g)=>t("option",{value:i,children:a},`skin_${g}`))]}),t("input",{className:C,value:e[T],type:"text",name:T,onInput:n(T),style:f?{}:{display:"none"},placeholder:"Paste here the skin URL..."})]}),e[`${T}${A}`]||t("p",{className:"text-red-600",children:"Is not a valid URL"}),t("div",{className:R,children:[t("label",{className:P,children:"Default Avatar"}),t("input",{className:C,value:e[I],type:"text",name:I,onInput:n(I),placeholder:"Paste here the image URL..."})]}),e[`${I}${A}`]||t("p",{className:"text-red-600",children:"Is not a valid URL"}),t("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[t("input",{checked:e[q],type:"checkbox",name:q,onInput:n(q),class:"sr-only peer"}),t("div",{class:B}),t("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"TTS"})]}),t("div",{className:R,children:[t("label",{className:P,children:"TTS Accent"}),t("select",{className:C,value:e[N],name:N,onInput:n(N),children:Object.keys(o).sort().map((a,i)=>t("option",{children:a},`voice_${i}`))})]}),t("div",{className:R,children:[t("label",{className:P,children:"Accent variant"}),t("select",{className:C,value:e[O],name:O,onInput:n(O),children:e[N]!==""&&_(o[e[N]])})]}),t("button",{className:"w-fit text-white font-medium rounded-lg text-sm px-5 py-2 bg-blue-600 transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",type:"button",onClick:a=>{a.preventDefault(),K.speak("Esto es una prueba",e[N],e[O])},children:"Test TTS"}),t("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[t("input",{type:"checkbox",name:Q,onInput:n(Q),class:"sr-only peer"}),t("div",{class:B}),t("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"Render"})]}),t("div",{className:R,children:[t("label",{className:P,children:"Bots"}),t("input",{className:C,value:e[F],type:"text",name:F,onInput:n(F)}),t("p",{className:"font-mono text-xs m-1",children:'Usernames separated by "," like "bot1,bot2,etc"'})]}),t("div",{className:R,children:[t("label",{className:P,children:"Commands prefixes"}),t("input",{className:C,value:e[z],type:"text",name:z,onInput:n(z)}),t("p",{className:"font-mono text-xs m-1",children:'Characters for the prefix of the commands separated by "," like "!,$,%"'})]}),t("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[t("input",{type:"checkbox",checked:e[M],name:M,onInput:n(M),class:"sr-only peer"}),t("div",{class:B}),t("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"PatoBot compatibility"})]}),t("p",{className:"italic text-xs text-zinc-400 hover:text-zinc-100 transition-all cursor-pointer",children:["(",t("a",{href:"https://elpatobot.com/",children:"You need to have the PatoBot configured."}),")"]}),t("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",children:[t("input",{type:"checkbox",checked:e[V],name:V,onInput:n(V),class:"sr-only peer"}),t("div",{class:B}),t("span",{class:"ml-3 text-sm font-medium text-gray-300",children:"HTML Injection"})]}),t("p",{className:"italic text-xs text-zinc-400",children:"(Experimental, Use on your own risk)"}),t("div",{className:"flex justify-center w-full",children:x?t("button",{className:"w-full text-white font-medium rounded-lg text-sm px-5 py-2 bg-blue-600 transition-all duration-100 focus:outline focus:outline-offset-2 focus:outline-2 focus:outline-blue-500",type:"submit",children:v?"Copied to the clipboard":"Generate URL"}):t("p",{className:"m-4 px-2 py-1 text-red-400 font-medium",children:"There are some invalid parameters..."})})]})})}export{Pe as default};
